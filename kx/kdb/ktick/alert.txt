alert/subscribers/realtimeDB's

k db tdb/rtdb.t -p 2012 -P 3012  / realtimeDB: all trades and quotes
k db tdb/vwap.t -p 2013 -P 3013  / volume weighted average price
k db tdb/hlcv.t -p 2014 -P 3014  / high, low, close, volume

each tickerplant can support several subscribers.
each subscriber can maintain thousands of alerts, e.g.
 view alert select sym from v where price>1.1*vwap ...

subscribers are kdb *.t scripts of the form:

\upd:{[t;x] ...update...}      / update callback
\(`;2011)3:"sub[`trade]"  / subscribe to table(s)

clients subscribe to table(s) and keep everything and/or summaries.
summaries may be total or in buckets, e.g. 1min 5min 10min ...
queries (e.g. vwap:select size avg price by sym from trade)
on several million rows can take a couple of seconds
so it is sometimes better to maintain state.

to get all previous data(asynchronously) use 'sub1' instead of 'sub'.
the realtime database (rtdb.t) is a subscriber that just does 'insert'.

/ nasdaq level 2 example
http://kx.com/a/ktdb/book.t	/ sorted bids and asks for all symbols

